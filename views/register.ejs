<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
      integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
  <link href="https://fonts.googleapis.com/css2?family=Mali:wght@500&display=swap" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css"
    integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
  <link href="https://fonts.googleapis.com/css2?family=Bungee+Inline&display=swap" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <script src="https://cdn.tiny.cloud/1/fkuf7632wiheheudqyjx3m3c68smfga50n37zcgqzmtdiwx3/tinymce/5/tinymce.min.js" referrerpolicy="origin"></script>
  <link href="https://fonts.googleapis.com/css2?family=Shadows+Into+Light&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/styles/register.css" type="text/css">
  <title>Register</title>
</head>


<body>
  <!--importing navbar-->
  
  <%- include ('indexPartials/nav2') %>

  <!--register pages design starts here-->
  <div class="register__body">
  <div class="container-fluid">
    <div class="row" id="chat-botCard" >

        <div class="col-12 col-lg-6 col-md-12 col-sm-12">
            <img src="/images/intro.jpg" id="id1" class="img-fluid" alt="..." />
        </div>


        <div class="col-12 col-lg-6 col-md-12 col-sm-12"
            style="padding-top: 5px; padding-bottom: 5px; background-color:rgb(255, 234, 255);">

            <!----register form-->
            <div class="bg" id="col1">
            </br>
              <h1 class="text-center mb-3">
                <i class="fas fa-user-plus"></i> Register
              </h1>
              <div class="signup-form " style="overflow: auto;">

                <form id="form1" method="POST" >
                   
                  <!---importing msgs column-->
                  <%- include ('partials/messages') %>
                 
                  <!--username-->
                  <div class="form-group">
                    <input type="text" class="form-control input-lg" id="username" name="username" placeholder="Enter your name"
                      required="required" value="<%= typeof username!= 'undefined' ? username : '' %>" />
                  </div>

                  <!--email-->
                  <div class="form-group">
                    <input type="email" class="form-control input-lg" id="email" name="email" placeholder="Email Address"
                      required="required" value="<%= typeof email != 'undefined' ? email : '' %>" />
                  </div>

                  <!--password-->
                  <div class="form-group">
                    <input type="password" class="form-control input-lg" id="password" name="password" placeholder="Create Password"
                      required="required" value="<%= typeof password != 'undefined' ? password : '' %>" />
                  </div>
                  

                  <div class="form-group">
                    <input type="password" class="form-control input-lg" id="password2" name="password2" placeholder="Confirm Password"
                      required="required" value="<%= typeof password2 != 'undefined' ? password2 : '' %>" />
                  </div>
                  
                </br>
                <hr style="width:50%; background-color:rgb(114, 15, 180)">
              </hr>

              <!---gender-->
              <div class="form-group">
                <label for="gender">Gender</label>
                <select class="form-control" id="gender" name="gender" placeholder="Gender"
                  required="required" value="<%= typeof gender != 'undefined' ? gender :'' %>">
                  <option>Male</option>
                  <option>Female</option>
                  <option>Others</option>
                </select>
              </div>
                 

               <!----City-->
                  <div class="form-group">
                    <label for="city">City/State</label>
                    <input type="text" class="form-control" id="city" name="city" placeholder="Enter your city/state"
                      value="<%= typeof city != 'undefined' ? city :  '' %>" />
                  </div>

                  
                <!---Age-->
                  <div class="form-group">
                    <label for="age">Age</label>
                    <input type="number" class="form-control input-lg" id="age" name="age"
                      placeholder="Enter age" required="required" min="10"
                      value="<%= typeof age != 'undefined' ? age : '' %>" />
                  </div>

                </br>
                <hr style="width:50%; background-color:rgb(114, 15, 180)">
              </hr>

               <!---preferences-->
               <div class="form-group">
                <label for="preferences">Preferences</label>
                <select class="form-control" id="preferences" name="preferences" placeholder="Preferences"
                  required="required" value="<%= typeof preferences != 'undefined' ? preferences :'' %>">
                  <option selected>Choose your preference</option>
                  <option>Male</option>
                  <option>Female</option>
                  <option>Others</option>
                </select>
              </div>
              
             


              <!---Age Range-->
              <div class="form-group">
                Age-Range
                <div class="row">
                
                <div class="col-6">
                
                <input type="number" class="form-control input-lg" id="lowerLimit" name="lowerLimit"
                  placeholder="Enter min-age" required="required" min="18"
                  value="<%= typeof lowerLimit != 'undefined' ? lowerLimit : '' %>" />
                </div>
                <div class="col-6">
                <input type="number" class="form-control input-lg" id="upperLimit" name="upperLimit"
                  placeholder="Enter max-age" required="required" min="18"
                  value="<%= typeof upperLimit != 'undefined' ? upperLimit : '' %>" />
                </div>
                </div>
              </div>


              <!---preferred radius-->
              <div class="form-group">
                <label for="radius">Find people within distance of:</label>
                <input type="number" class="form-control input-lg" id="radius" name="radius" step="0.1"
                      placeholder="Distance(in km)" required="required" min="0"
                      value="<%= typeof radius != 'undefined' ? radius : '' %>" />
              </div>
              
              <!----Add Bio-->
              <div class="form-group">
              <label for="bio">Add Bio</label>
              <textarea class="form-control ta editor" id="bio" rows="6" placeholder="Add words that define you..."
              name="bio" value="<%= typeof bio != 'undefined' ? bio : '' %>"></textarea>
            </div>



                  <div class="form-group">
                    <button type="submit" class="btn btn-primary btn-lg btn-block signup-btn">Register</button>
                  </div>
                </form>
                  <div class="text-center text-capitalize font-weight-bold ">Already have an account? <a class="text-danger"
                      href="/login" >Login</a></div>
                   
              </div>
            
            </div>


        </div>

        <!----ends here-->
    </div>
 
  </div>
</div>

<%- include ('partials/editor') %>

<script>
  var lat,long,url;
function getLocation()
{
   if(navigator.geolocation)
   {
     
     navigator.geolocation.getCurrentPosition(objectUse);
   }
   else
   {
     alert("no support");
   }
}

function objectUse(position)
{
  lat=position.coords.latitude;
  long=position.coords.longitude;
  alert("Allow website to access your location");
  //alert("Latitude:"+ lat +" Longitude:" + long);
  //console.log("/login/"+lat+"/"+long);
  url="/register/"+lat+"/"+long;
  console.log(url);

  OnSubmitForm();
}
getLocation();
</script>
 
<script>
  function OnSubmitForm()
  {
    console.log(url);
    document.getElementById('form1').action=url;
    return true;
  }
  
  </script>
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js"
    integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut"
    crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js"
    integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k"
    crossorigin="anonymous"></script>
</body>

</html>